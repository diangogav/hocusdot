#!/usr/bin/env bash

directory=$(fd . $DOTFILES_PATH/scripts/ --max-depth 1  | fzf --preview='bat --color=always {} 2> /dev/null')

while [[ -d $directory ]] 
do
  directory=$(fd . $directory --max-depth 1 | fzf --preview='bat --color=always {} 2> /dev/null')
done

"$directory" "$@"